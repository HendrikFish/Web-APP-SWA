const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/confirmation-modal-nNV1CCn0.js","assets/bootstrap.esm-DGoQCxh1.js","assets/bootstrap-DhAbcaWn.css","assets/toast-notification-BBb3bACE.js","assets/toast-notification-CC4azLeq.css"])))=>i.map(i=>d[i]);
import"./bootstrap.esm-DGoQCxh1.js";import{i as Ae}from"./header-DaFr1czl.js";/* empty css               */import{showToast as L}from"./toast-notification-BBb3bACE.js";var G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ue;(function(t){var a=function(){function n(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(n.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){this._dropEffect=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(e){this._effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),n.prototype.clearData=function(e){e!=null?delete this._data[e]:this._data=null},n.prototype.getData=function(e){return this._data[e]||""},n.prototype.setData=function(e,s){this._data[e]=s},n.prototype.setDragImage=function(e,s,o){var i=r._instance;i._imgCustom=e,i._imgOffset={x:s,y:o}},n}();t.DataTransfer=a;var r=function(){function n(){if(this._lastClick=0,n._instance)throw"DragDropTouch instance already created.";var e=!1;if(document.addEventListener("test",function(){},{get passive(){return e=!0,!0}}),"ontouchstart"in document){var s=document,o=this._touchstart.bind(this),i=this._touchmove.bind(this),d=this._touchend.bind(this),c=e?{passive:!1,capture:!1}:!1;s.addEventListener("touchstart",o,c),s.addEventListener("touchmove",i,c),s.addEventListener("touchend",d),s.addEventListener("touchcancel",d)}}return n.getInstance=function(){return n._instance},n.prototype._touchstart=function(e){var s=this;if(this._shouldHandle(e)){if(Date.now()-this._lastClick<n._DBLCLICK&&this._dispatchEvent(e,"dblclick",e.target)){e.cancelable&&e.preventDefault(),this._reset();return}this._reset();var o=this._closestDraggable(e.target);o&&!this._dispatchEvent(e,"mousemove",e.target)&&!this._dispatchEvent(e,"mousedown",e.target)&&(this._dragSource=o,this._ptDown=this._getPoint(e),this._lastTouch=e,e.cancelable&&e.preventDefault(),setTimeout(function(){s._dragSource==o&&s._img==null&&s._dispatchEvent(e,"contextmenu",o)&&s._reset()},n._CTXMENU),n._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){s._isDragEnabled=!0,s._touchmove(e)},n._PRESSHOLDAWAIT)))}},n.prototype._touchmove=function(e){if(this._shouldCancelPressHoldMove(e)){this._reset();return}if(this._shouldHandleMove(e)||this._shouldHandlePressHoldMove(e)){var s=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",s)){this._lastTouch=e,e.cancelable&&e.preventDefault();return}this._dragSource&&!this._img&&this._shouldStartDragging(e)&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",s)),this._img&&(this._lastTouch=e,e.cancelable&&e.preventDefault(),s!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",s),this._lastTarget=s),this._moveImage(e),this._isDropZone=this._dispatchEvent(e,"dragover",s))}},n.prototype._touchend=function(e){if(this._shouldHandle(e)){if(this._dispatchEvent(this._lastTouch,"mouseup",e.target)){e.cancelable&&e.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",e.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(e.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},n.prototype._shouldHandle=function(e){return e&&!e.defaultPrevented&&e.touches&&e.touches.length<2},n.prototype._shouldHandleMove=function(e){return!n._ISPRESSHOLDMODE&&this._shouldHandle(e)},n.prototype._shouldHandlePressHoldMove=function(e){return n._ISPRESSHOLDMODE&&this._isDragEnabled&&e&&e.touches&&e.touches.length},n.prototype._shouldCancelPressHoldMove=function(e){return n._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(e)>n._PRESSHOLDMARGIN},n.prototype._shouldStartDragging=function(e){var s=this._getDelta(e);return s>n._THRESHOLD||n._ISPRESSHOLDMODE&&s>=n._PRESSHOLDTHRESHOLD},n.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new a,clearInterval(this._pressHoldInterval)},n.prototype._getPoint=function(e,s){return e&&e.touches&&(e=e.touches[0]),{x:s?e.pageX:e.clientX,y:s?e.pageY:e.clientY}},n.prototype._getDelta=function(e){if(n._ISPRESSHOLDMODE&&!this._ptDown)return 0;var s=this._getPoint(e);return Math.abs(s.x-this._ptDown.x)+Math.abs(s.y-this._ptDown.y)},n.prototype._getTarget=function(e){for(var s=this._getPoint(e),o=document.elementFromPoint(s.x,s.y);o&&getComputedStyle(o).pointerEvents=="none";)o=o.parentElement;return o},n.prototype._createImage=function(e){this._img&&this._destroyImage();var s=this._imgCustom||this._dragSource;if(this._img=s.cloneNode(!0),this._copyStyle(s,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var o=s.getBoundingClientRect(),i=this._getPoint(e);this._imgOffset={x:i.x-o.left,y:i.y-o.top},this._img.style.opacity=n._OPACITY.toString()}this._moveImage(e),document.body.appendChild(this._img)},n.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},n.prototype._moveImage=function(e){var s=this;requestAnimationFrame(function(){if(s._img){var o=s._getPoint(e,!0),i=s._img.style;i.position="absolute",i.pointerEvents="none",i.zIndex="999999",i.left=Math.round(o.x-s._imgOffset.x)+"px",i.top=Math.round(o.y-s._imgOffset.y)+"px"}})},n.prototype._copyProps=function(e,s,o){for(var i=0;i<o.length;i++){var d=o[i];e[d]=s[d]}},n.prototype._copyStyle=function(e,s){if(n._rmvAtts.forEach(function(l){s.removeAttribute(l)}),e instanceof HTMLCanvasElement){var o=e,i=s;i.width=o.width,i.height=o.height,i.getContext("2d").drawImage(o,0,0)}for(var d=getComputedStyle(e),c=0;c<d.length;c++){var h=d[c];h.indexOf("transition")<0&&(s.style[h]=d[h])}s.style.pointerEvents="none";for(var c=0;c<e.children.length;c++)this._copyStyle(e.children[c],s.children[c])},n.prototype._dispatchEvent=function(e,s,o){if(e&&o){var i=document.createEvent("Event"),d=e.touches?e.touches[0]:e;return i.initEvent(s,!0,!0),i.button=0,i.which=i.buttons=1,this._copyProps(i,e,n._kbdProps),this._copyProps(i,d,n._ptProps),i.dataTransfer=this._dataTransfer,o.dispatchEvent(i),i.defaultPrevented}return!1},n.prototype._closestDraggable=function(e){for(;e;e=e.parentElement)if(e.hasAttribute("draggable")&&e.draggable)return e;return null},n}();r._instance=new r,r._THRESHOLD=5,r._OPACITY=.5,r._DBLCLICK=500,r._CTXMENU=900,r._ISPRESSHOLDMODE=!1,r._PRESSHOLDAWAIT=400,r._PRESSHOLDMARGIN=25,r._PRESSHOLDTHRESHOLD=0,r._rmvAtts="id,class,style,draggable".split(","),r._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),r._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),t.DragDropTouch=r})(ue||(ue={}));const K={api:{getPlan:(t,a)=>`/api/menueplan/${t}/${a}`,savePlan:(t,a)=>`/api/menueplan/${t}/${a}`,updateSnapshot:(t,a)=>`/api/menueplan/${t}/${a}/snapshot`},data:{stammdaten:"/shared/data/menueplaene/stammdaten.json"}};async function x(t,a={}){const r=localStorage.getItem("token"),n={"Content-Type":"application/json",...a.headers};r&&(n.Authorization=`Bearer ${r}`);try{const e=await fetch(t,{...a,headers:n});if(!e.ok)throw new Error(`Netzwerk-Antwort war nicht ok: ${e.statusText}`);return e.status===204?null:await e.json()}catch(e){throw console.error(`Fehler beim Abrufen der Daten von ${t}:`,e),e}}const I={getStammdaten:()=>x(K.data.stammdaten),getEinrichtungen:()=>x("/shared/data/einrichtungen/einrichtungen.json"),getRezepte:()=>x("/shared/data/rezepte/rezepte.json"),getModalMessages:()=>x("/shared/config/modal-messages.json"),getMenueplan:(t,a)=>{const r=K.api.getPlan(t,a);return x(r)},saveMenueplan:(t,a,r)=>{const n=K.api.savePlan(t,a);return x(n,{method:"POST",body:JSON.stringify(r)})},updateEinrichtungsSnapshot:(t,a)=>{const r=K.api.updateSnapshot(t,a);return x(r,{method:"PUT"})}};var te,he;function Re(){if(he)return te;he=1;var t="Expected a function",a=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt,d=typeof G=="object"&&G&&G.Object===Object&&G,c=typeof self=="object"&&self&&self.Object===Object&&self,h=d||c||Function("return this")(),l=Object.prototype,u=l.toString,m=Math.max,p=Math.min,f=function(){return h.Date.now()};function b(g,E,z){var C,O,$,N,D,A,Z=0,oe=!1,F=!1,J=!0;if(typeof g!="function")throw new TypeError(t);E=q(E)||0,S(z)&&(oe=!!z.leading,F="maxWait"in z,$=F?m(q(z.maxWait)||0,E):$,J="trailing"in z?!!z.trailing:J);function Q(v){var P=C,U=O;return C=O=void 0,Z=v,N=g.apply(U,P),N}function Pe(v){return Z=v,D=setTimeout(V,E),oe?Q(v):N}function Ie(v){var P=v-A,U=v-Z,de=E-P;return F?p(de,$-U):de}function ce(v){var P=v-A,U=v-Z;return A===void 0||P>=E||P<0||F&&U>=$}function V(){var v=f();if(ce(v))return le(v);D=setTimeout(V,Ie(v))}function le(v){return D=void 0,J&&C?Q(v):(C=O=void 0,N)}function ke(){D!==void 0&&clearTimeout(D),Z=0,C=A=O=D=void 0}function Oe(){return D===void 0?N:le(f())}function ee(){var v=f(),P=ce(v);if(C=arguments,O=this,A=v,P){if(D===void 0)return Pe(A);if(F)return D=setTimeout(V,E),Q(A)}return D===void 0&&(D=setTimeout(V,E)),N}return ee.cancel=ke,ee.flush=Oe,ee}function S(g){var E=typeof g;return!!g&&(E=="object"||E=="function")}function w(g){return!!g&&typeof g=="object"}function W(g){return typeof g=="symbol"||w(g)&&u.call(g)==r}function q(g){if(typeof g=="number")return g;if(W(g))return a;if(S(g)){var E=typeof g.valueOf=="function"?g.valueOf():g;g=S(E)?E+"":E}if(typeof g!="string")return g===0?g:+g;g=g.replace(n,"");var z=s.test(g);return z||o.test(g)?i(g.slice(2),z?2:8):e.test(g)?a:+g}return te=b,te}var He=Re();const $e=xe(He),y={currentDate:new Date,currentPlan:null,stammdaten:{rezepte:[],einrichtungen:[],stammdaten:{kategorien:[]}},modalMessages:{},currentDragData:null,onStateChange:()=>{}},Ne=$e(async(t,a)=>{a.onSaving();try{const{year:r,week:n}=t;let e;t.einrichtungsSnapshot?(console.log("üì∏ Verwende bestehenden Einrichtungs-Snapshot beim Speichern"),e={...t}):(console.log("üì∏ Erstelle neuen Einrichtungs-Snapshot f√ºr neuen Plan"),e={...t,einrichtungsSnapshot:Ze()}),await I.saveMenueplan(r,n,e),a.onSuccess()}catch(r){console.error("Fehler beim automatischen Speichern:",r),a.onError()}},1500);function je(t){y.currentPlan&&Ne(y.currentPlan,t)}function k(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));const a=new Date(Date.UTC(t.getUTCFullYear(),0,1)),r=Math.ceil(((t-a)/864e5+1)/7);return[t.getUTCFullYear(),r]}const T=()=>y,B=()=>y.currentDate;function Se(t){Object.assign(y,t),(t.currentPlan||t.stammdaten)&&y.onStateChange()}function Be(t){y.onStateChange=t}function ze(t){y.currentDate=t}function R(t){y.currentDragData=t}function We(t,a){const r=["montag","dienstag","mittwoch","donnerstag","freitag","samstag","sonntag"],n={year:t,week:a,days:{}};return r.forEach(e=>{n.days[e]={Mahlzeiten:{},Zuweisungen:{menu1:[],menu2:[]}},y.stammdaten.stammdaten.kategorien.forEach(s=>{n.days[e].Mahlzeiten[s.id]=[]})}),n}function qe(t,a,r){const n=We(a,r);if(!t||!t.days)return n;n.year=t.year||a,n.week=t.week||r,t.einrichtungsSnapshot&&(n.einrichtungsSnapshot=t.einrichtungsSnapshot,console.log("üì∏ Bestehender Einrichtungs-Snapshot beim Laden √ºbernommen"));for(const e in n.days)if(t.days[e]){if(t.days[e].Mahlzeiten)for(const s in n.days[e].Mahlzeiten)t.days[e].Mahlzeiten[s]&&(n.days[e].Mahlzeiten[s]=t.days[e].Mahlzeiten[s]);t.days[e].Zuweisungen&&(n.days[e].Zuweisungen=t.days[e].Zuweisungen)}return n}function Y(t){const[a,r]=k(y.currentDate);y.currentPlan=qe(t,a,r),y.onStateChange()}function Ze(){const{einrichtungen:t,stammdaten:a}=y.stammdaten,r={einrichtungen:[],generatedAt:new Date().toISOString(),categories:a.kategorien.map(n=>({id:n.id,name:n.name}))};return t.forEach(n=>{const e={id:n.id,name:n.name,kuerzel:n.kuerzel,isIntern:n.isIntern||!1,speiseplan:n.speiseplan||{},snapshotMetadata:{originalDataTimestamp:n.updatedAt||n.createdAt||null}};r.einrichtungen.push(e)}),r}function De(t,a,r,n,e,s){var i,d,c,h;y.currentPlan||(y.currentPlan={}),y.currentPlan.days||(y.currentPlan.days={});const{days:o}=y.currentPlan;if(e&&s&&e!=="null"&&s!=="null"){const l=(d=(i=o[e])==null?void 0:i.Mahlzeiten)==null?void 0:d[s],u=(h=(c=o[t])==null?void 0:c.Mahlzeiten)==null?void 0:h[a];if(!l||!u)return;const m=l.findIndex(p=>p.id===r);if(m>-1){const[p]=l.splice(m,1);u.some(f=>f.id===r)||u.push(p)}}else{o[t]||(o[t]={Mahlzeiten:{},Zuweisungen:{}}),o[t].Mahlzeiten[a]||(o[t].Mahlzeiten[a]=[]);const l=o[t].Mahlzeiten[a];l.some(u=>u.id===r)||l.push({id:r,name:n})}y.onStateChange()}function we(t,a,r,n){var d,c,h,l,u;if(!((d=y.currentPlan)!=null&&d.days)||t===r&&a===n)return;const{days:e}=y.currentPlan,s=(h=(c=e[r])==null?void 0:c.Mahlzeiten)==null?void 0:h[n],o=(u=(l=e[t])==null?void 0:l.Mahlzeiten)==null?void 0:u[a];if(!s||!o)return;const i=[...o];e[t].Mahlzeiten[a]=[...s],e[r].Mahlzeiten[n]=i,y.onStateChange()}function Fe(t,a,r){const n=y.currentPlan.days[t].Mahlzeiten[a],e=n.findIndex(s=>s.id===r);e>-1&&(n.splice(e,1),y.onStateChange())}function Ue(){var r;if(!((r=y.currentPlan)!=null&&r.days))return;const{days:t}=y.currentPlan;["montag","dienstag","mittwoch","donnerstag","freitag","samstag","sonntag"].forEach(n=>{t[n]&&(t[n].Mahlzeiten&&Object.keys(t[n].Mahlzeiten).forEach(e=>{t[n].Mahlzeiten[e]=[]}),t[n].Zuweisungen&&(t[n].Zuweisungen={}))}),y.onStateChange()}function Ve(t,a,r){var o,i,d;if(!((d=(i=(o=y.currentPlan)==null?void 0:o.days)==null?void 0:i[t])!=null&&d.Zuweisungen)){console.error("Zuweisungen nicht initialisiert f√ºr",t);return}const n=y.currentPlan.days[t].Zuweisungen,e=a==="menu1"?"menu2":"menu1";n[a]||(n[a]=[]),n[e]||(n[e]=[]);const s=n[a].indexOf(r);if(s>-1)n[a].splice(s,1);else{n[a].push(r);const c=n[e].indexOf(r);c>-1&&n[e].splice(c,1)}y.onStateChange()}const Ge="modulepreload",Ke=function(t){return"/"+t},pe={},H=function(a,r,n){let e=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),d=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));e=o(r.map(c=>{if(c=Ke(c),c in pe)return;pe[c]=!0;const h=c.endsWith(".css"),l=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const u=document.createElement("link");if(u.rel=h?"stylesheet":Ge,h||(u.as="script"),u.crossOrigin="",u.href=c,d&&u.setAttribute("nonce",d),document.head.appendChild(u),h)return new Promise((m,p)=>{u.addEventListener("load",m),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return e.then(o=>{for(const i of o||[])i.status==="rejected"&&s(i.reason);return a().catch(s)})};let ie=()=>{};function fe(t){const a=document.getElementById("menueplan-suche-ergebnisse");if(a.innerHTML="",t.length===0){a.classList.remove("show");return}t.slice(0,2).forEach(r=>{const n=document.createElement("span");n.className="badge bg-primary me-2 mb-2 rezept-pill",n.draggable=!0,n.dataset.rezeptId=r.id,n.dataset.rezeptName=r.name,n.innerHTML=`<i class="bi bi-grip-vertical me-1"></i>${r.name}`,n.style.cursor="grab",a.appendChild(n)}),a.classList.add("show")}function Ye(t){const{stammdaten:a}=T(),r=t.target.value.toLowerCase();if(r.length<1){fe([]);return}const n=a.rezepte.filter(e=>e.name.toLowerCase().includes(r));fe(n)}function Xe(){const t=document.getElementById("menueplan-suche-ergebnisse");t&&(t.classList.remove("show"),t.innerHTML="")}function Je(t){const a=document.getElementById("menueplan-suche"),r=document.getElementById("menueplan-suche-ergebnisse");a&&r&&!a.contains(t.target)&&!r.contains(t.target)&&Xe()}async function Qe(){const{showConfirmationModal:t}=await H(async()=>{const{showConfirmationModal:r}=await import("./confirmation-modal-nNV1CCn0.js");return{showConfirmationModal:r}},__vite__mapDeps([0,1,2]));if(await t("Plan leeren","M√∂chten Sie alle Rezepte und Zuweisungen der aktuellen Woche l√∂schen? ACHTUNG: Diese Aktion kann nicht r√ºckg√§ngig gemacht werden!"))try{Ue(),L("Men√ºplan erfolgreich geleert!","success")}catch(r){console.error("Fehler beim Leeren des Plans:",r),L("Fehler beim Leeren des Plans.","error")}}async function et(){const{showConfirmationModal:t}=await H(async()=>{const{showConfirmationModal:r}=await import("./confirmation-modal-nNV1CCn0.js");return{showConfirmationModal:r}},__vite__mapDeps([0,1,2]));if(await t("Einrichtungen aktualisieren",`Diese Funktion aktualisiert die Einrichtungsdaten im Men√ºplan mit den aktuellen Stammdaten.
        
        <div class="alert alert-info mt-3">
            <strong>Was wird aktualisiert:</strong>
            <ul class="mb-0">
                <li>Namen und K√ºrzel der Einrichtungen</li>
                <li>Speiseplan-Einstellungen der Einrichtungen</li>
                <li>Interne/Externe Markierungen</li>
            </ul>
        </div>
        
        <div class="alert alert-success mt-2">
            <strong>Was bleibt unver√§ndert:</strong>
            <ul class="mb-0">
                <li>Alle Rezepte im Men√ºplan</li>
                <li>Alle Einrichtungs-Zuweisungen</li>
                <li>Alle anderen Plan-Daten</li>
            </ul>
        </div>
        
        M√∂chten Sie die Einrichtungsdaten aktualisieren?`))try{const[r,n]=k(B());console.log(`Aktualisiere Einrichtungs-Snapshot f√ºr KW ${n}/${r}`);const e=await I.updateEinrichtungsSnapshot(r,n);L("Einrichtungsdaten erfolgreich aktualisiert!","success"),console.log("üì∏ Snapshot aktualisiert:",e);const s=await I.getEinrichtungen(),{stammdaten:o,currentPlan:i}=T();if(i&&e.snapshot){const c={...i,einrichtungsSnapshot:e.snapshot};Y(c),console.log("üì∏ Plan-Snapshot im Frontend-State aktualisiert")}Se({stammdaten:{...o,einrichtungen:s}}),console.log("üîÑ Rendere Grid neu nach Snapshot-Update...");const{render:d}=await H(async()=>{const{render:c}=await Promise.resolve().then(()=>dt);return{render:c}},void 0);d(),console.log("‚úÖ Grid erfolgreich neu gerendert mit neuen Einrichtungen")}catch(r){console.error("Fehler beim Aktualisieren des Snapshots:",r),r.message.includes("404")?L("Kein Men√ºplan f√ºr diese Woche gefunden. Erstellen Sie zuerst einen Plan.","warning"):L("Fehler beim Aktualisieren der Einrichtungen.","error")}}async function tt(){const{showConfirmationModal:t}=await H(async()=>{const{showConfirmationModal:r}=await import("./confirmation-modal-nNV1CCn0.js");return{showConfirmationModal:r}},__vite__mapDeps([0,1,2]));if(await t("Vorlage laden","M√∂chten Sie den Plan von vor 7 Wochen als Vorlage laden? ACHTUNG: Alle aktuellen √Ñnderungen gehen verloren!"))try{const r=B(),[n,e]=k(r),s=new Date(r);s.setDate(s.getDate()-7*7);const[o,i]=k(s);console.log(`Lade Vorlage von KW ${i}/${o} f√ºr KW ${e}/${n}`);const d=await I.getMenueplan(o,i);if(!d||!d.days){L("Keine Vorlage f√ºr diese Woche gefunden.","warning");return}const c={year:n,week:e,days:{...d.days},templateSource:{year:o,week:i,loadedAt:new Date().toISOString()}};delete c.updatedAt,delete c.updatedBy,delete c.einrichtungsSnapshot,Y(c),L(`Vorlage von KW ${i}/${o} erfolgreich geladen!`,"success")}catch(r){console.error("Fehler beim Laden der Vorlage:",r),L("Fehler beim Laden der Vorlage.","error")}}function me(t){const a=B();a.setDate(a.getDate()+7*t),ze(new Date(a));const[r,n]=k(B());ie(r,n),X()}function nt(){ze(new Date);const[t,a]=k(B());ie(t,a),X()}function X(){const t=document.getElementById("menueplan-title");if(!t)return;const{currentDate:a}=T(),[r,n]=k(a),e=new Date(a);e.setDate(e.getDate()-(e.getDay()+6)%7);const s=new Date(e);s.setDate(s.getDate()+6);const o=i=>`${String(i.getDate()).padStart(2,"0")}.${String(i.getMonth()+1).padStart(2,"0")}`;t.textContent=`KW ${n} / ${r} (${o(e)} - ${o(s)})`}function at(t){var a,r,n,e,s,o,i;ie=t,(a=document.getElementById("menueplan-prev-week"))==null||a.addEventListener("click",()=>me(-1)),(r=document.getElementById("menueplan-next-week"))==null||r.addEventListener("click",()=>me(1)),(n=document.getElementById("menueplan-today"))==null||n.addEventListener("click",nt),(e=document.getElementById("menueplan-suche"))==null||e.addEventListener("input",Ye),(s=document.getElementById("menueplan-clear"))==null||s.addEventListener("click",Qe),(o=document.getElementById("menueplan-load-7-weeks-ago"))==null||o.addEventListener("click",tt),(i=document.getElementById("menueplan-update-einrichtungen"))==null||i.addEventListener("click",et),document.addEventListener("click",Je),X()}function Le(t){const a=document.createElement("div");return a.className="rezept-card",a.dataset.rezeptId=t.id,a.innerHTML=`
        <i class="bi bi-grip-vertical rezept-drag-handle" draggable="true" title="Rezept verschieben"></i>
            <span class="rezept-name">${t.name}</span>
            <button type="button" class="btn-close" aria-label="Rezept entfernen"></button>
    `,a}function rt(t,a,r,n){var o;const e=document.createElement("div");return e.className="einrichtungs-buttons d-flex flex-wrap gap-1 mt-2",(((o=r[t])==null?void 0:o[a.id])||[]).forEach(i=>{var u,m;const d=(u=n[a.id])==null?void 0:u.includes(i.id),c=a.id==="menu1"?"menu2":"menu1",h=(m=n[c])==null?void 0:m.includes(i.id),l=document.createElement("button");l.type="button",l.className=`btn flex-fill ${d?"btn-primary":"btn-outline-secondary"}`,h&&l.classList.add("d-none"),l.dataset.tag=t,l.dataset.kategorie=a.id,l.dataset.einrichtungId=i.id,l.title=i.name||"",l.textContent=i.kuerzel,e.appendChild(l)}),e}function it(t,a){t.innerHTML="",a.forEach(r=>{t.appendChild(Le(r))}),t.classList.toggle("has-content",a.length>0)}function se(){const t=document.getElementById("menueplan-grid-wrapper");if(!t)return;const{currentPlan:a,stammdaten:r}=T();if(!a||!r)return;const n=["montag","dienstag","mittwoch","donnerstag","freitag","samstag","sonntag"],e=r.stammdaten.kategorien;if(window.innerWidth<=768){st(t,n,e,a,r);return}let o=t.querySelector(".menueplan-grid");if(!o){o=document.createElement("div"),o.className="menueplan-grid";const d=document.createElement("div");d.className="grid-header",d.innerHTML='<div class="grid-header-cell grid-corner-cell">Mahlzeit</div>',n.forEach(c=>{const h=c.charAt(0).toUpperCase()+c.slice(1);d.innerHTML+=`<div class="grid-header-cell">${h}</div>`}),o.appendChild(d),e.forEach(c=>{const h=document.createElement("div");h.className="grid-kategorie-cell",h.textContent=c.name,o.appendChild(h),n.forEach(l=>{const u=document.createElement("div");u.className="grid-cell",u.dataset.tag=l.toLowerCase(),u.dataset.kategorie=c.id;const m=document.createElement("div");m.className="cell-drag-handle",m.draggable=!0,m.innerHTML='<i class="bi bi-grip-vertical" title="Alle Rezepte in dieser Zelle verschieben"></i>',u.appendChild(m);const p=document.createElement("div");p.className="cell-content-wrapper";const f=document.createElement("div");if(f.className="drop-zone",f.id=`dropzone-${l}-${c.id}`,f.dataset.tag=l,f.dataset.kategorie=c.id,p.appendChild(f),c.id==="menu1"||c.id==="menu2"){const b=document.createElement("div");b.className="einrichtungs-buttons-wrapper",p.appendChild(b)}u.appendChild(p),o.appendChild(u)})}),t.innerHTML="",t.appendChild(o)}const i=Te(r.einrichtungen,r.stammdaten);e.forEach(d=>{n.forEach(c=>{var m,p,f,b,S;const h=o.querySelector(`.grid-cell[data-tag='${c}'][data-kategorie='${d.id}']`);if(!h)return;const l=h.querySelector(".drop-zone"),u=((f=(p=(m=a.days)==null?void 0:m[c])==null?void 0:p.Mahlzeiten)==null?void 0:f[d.id])||[];if(l&&it(l,u),d.id==="menu1"||d.id==="menu2"){const w=h.querySelector(".einrichtungs-buttons-wrapper"),W=((S=(b=a.days)==null?void 0:b[c])==null?void 0:S.Zuweisungen)||{};w&&(w.innerHTML="",w.appendChild(rt(c,d,i,W)))}})})}function st(t,a,r,n,e){let s=t.querySelector(".mobile-accordion");s||(s=document.createElement("div"),s.className="mobile-accordion",t.innerHTML="",t.appendChild(s));const o=Te(e.einrichtungen,e.stammdaten);a.forEach(i=>{const d=i.charAt(0).toUpperCase()+i.slice(1);let c=s.querySelector(`[data-day="${i}"]`);if(!c){c=document.createElement("div"),c.className="day-accordion-section",c.dataset.day=i;const p=document.createElement("div");p.className="day-header",p.innerHTML=`
                <div class="day-title">
                    <span>${d}</span>
                    <span class="day-counter">0 Rezepte</span>
                </div>
                <i class="bi bi-chevron-down day-toggle-icon"></i>
            `;const f=document.createElement("div");f.className="day-content",c.appendChild(p),c.appendChild(f),s.appendChild(c),p.addEventListener("click",()=>{const b=p.classList.contains("expanded");s.querySelectorAll(".day-header").forEach(S=>{S.classList.remove("expanded"),S.parentNode.querySelector(".day-content").classList.remove("expanded")}),b||(p.classList.add("expanded"),f.classList.add("expanded"))})}const h=c.querySelector(".day-content"),l=c.querySelector(".day-header");let u=0;r.forEach(p=>{var b,S,w;const f=((w=(S=(b=n.days)==null?void 0:b[i])==null?void 0:S.Mahlzeiten)==null?void 0:w[p.id])||[];u+=f.length});const m=l.querySelector(".day-counter");m.textContent=`${u} Rezept${u!==1?"e":""}`,h.innerHTML="",r.forEach(p=>{var q,g,E,z,C;const f=document.createElement("div");f.className="mobile-category-row";const S={suppe:"üç≤",menu1:"üçΩÔ∏è",menu2:"ü•ò",beilage:"ü•ó",dessert:"üç∞",getraenk:"ü•§"}[p.id]||"üç¥";f.innerHTML=`
                <div class="mobile-category-title">
                    <span class="mobile-category-icon">${S}</span>
                    <span>${p.name}</span>
                </div>
                <div class="mobile-drop-zone-container">
                    <div class="mobile-zone-drag-handle" data-tag="${i}" data-kategorie="${p.id}" title="Alle Rezepte dieser Kategorie verschieben">
                        <i class="bi bi-grip-vertical"></i>
                    </div>
                    <div class="mobile-drop-zone" data-tag="${i}" data-kategorie="${p.id}" id="mobile-dropzone-${i}-${p.id}">
                        <div class="mobile-drop-zone-placeholder">Rezept hier hinzuf√ºgen</div>
                    </div>
                </div>
            `,h.appendChild(f);const w=f.querySelector(".mobile-drop-zone"),W=((E=(g=(q=n.days)==null?void 0:q[i])==null?void 0:g.Mahlzeiten)==null?void 0:E[p.id])||[];if(ot(w,W),p.id==="menu1"||p.id==="menu2"){const O=((C=(z=n.days)==null?void 0:z[i])==null?void 0:C.Zuweisungen)||{},$=ct(i,p,o,O);f.appendChild($)}})})}function ot(t,a){const r=t.querySelector(".mobile-drop-zone-placeholder"),n=t.closest(".mobile-drop-zone-container");a.length===0?(r&&(r.style.display="block"),t.classList.remove("has-content"),n&&n.classList.remove("has-content"),t.querySelectorAll(".rezept-card").forEach(e=>e.remove())):(r&&(r.style.display="none"),t.classList.add("has-content"),n&&n.classList.add("has-content"),t.querySelectorAll(".rezept-card").forEach(e=>e.remove()),a.forEach(e=>{t.appendChild(Le(e))}))}function ct(t,a,r,n){var o;const e=document.createElement("div");e.className="mobile-einrichtungs-buttons";const s=((o=r[t])==null?void 0:o[a.id])||[];if(s.length>0){const i=document.createElement("div");i.className="fw-bold text-muted mb-2",i.innerHTML='<i class="bi bi-building"></i> Einrichtungs-Zuweisungen:',e.appendChild(i),s.forEach(d=>{var u,m;const c=(u=n[a.id])==null?void 0:u.includes(d.id),h=a.id==="menu1"?"menu2":"menu1";if(!((m=n[h])==null?void 0:m.includes(d.id))){const p=document.createElement("button");p.type="button",p.className=`btn ${c?"btn-primary":"btn-outline-secondary"}`,p.dataset.tag=t,p.dataset.kategorie=a.id,p.dataset.einrichtungId=d.id,p.title=d.name||"",p.textContent=d.kuerzel,e.appendChild(p)}})}return e}function Te(t,a){var o;const{currentPlan:r}=T();let n=t;(o=r==null?void 0:r.einrichtungsSnapshot)!=null&&o.einrichtungen&&(console.log("Verwende historischen Einrichtungs-Snapshot f√ºr Men√ºplan"),n=r.einrichtungsSnapshot.einrichtungen);const e={};return["montag","dienstag","mittwoch","donnerstag","freitag","samstag","sonntag"].forEach(i=>{var c,h;e[i]={},a.kategorien.forEach(l=>{e[i][l.id]=[]}),n.forEach(l=>{if(l.isIntern===!0){a.kategorien.forEach(m=>{e[i][m.id]&&e[i][m.id].push({id:l.id,kuerzel:l.kuerzel,name:l.name,isIntern:!0})});return}if(!l.speiseplan||!l.speiseplan[i])return;const u=l.speiseplan[i];u.suppe&&e[i].suppe.push({id:l.id,kuerzel:l.kuerzel,name:l.name}),u.dessert&&e[i].dessert.push({id:l.id,kuerzel:l.kuerzel,name:l.name}),u.hauptspeise&&(e[i].menu1&&e[i].menu1.push({id:l.id,kuerzel:l.kuerzel,name:l.name}),e[i].menu2&&e[i].menu2.push({id:l.id,kuerzel:l.kuerzel,name:l.name}))});const d=((h=(c=r==null?void 0:r.days)==null?void 0:c[i])==null?void 0:h.Zuweisungen)||{};["menu1","menu2"].forEach(l=>{(d[l]||[]).forEach(m=>{if(!e[i][l].some(f=>f.id===m)){const f=n.find(b=>b.id===m);f&&(console.log(`üìå Behalte zugewiesene Einrichtung ${f.name} f√ºr ${i}/${l}, auch wenn nicht mehr im Speiseplan`),e[i][l].push({id:f.id,kuerzel:f.kuerzel,name:f.name,hasAssignment:!0}))}})})}),e}function lt(t){const a=t.target.closest(".btn-close");if(a){const n=a.closest(".rezept-card"),e=n.closest(".drop-zone");Fe(e.dataset.tag,e.dataset.kategorie,n.dataset.rezeptId);return}const r=t.target.closest("button[data-einrichtung-id]");if(r){const{tag:n,kategorie:e,einrichtungId:s}=r.dataset;Ve(n,e,s)}}function Ce(){const t=document.getElementById("menueplan-grid-wrapper");if(t){t.addEventListener("click",lt);let a;window.addEventListener("resize",()=>{clearTimeout(a),a=setTimeout(()=>{console.log("Fenster-Gr√∂√üe ge√§ndert, re-rendere Layout..."),se(),H(()=>Promise.resolve().then(()=>pt),void 0).then(r=>{r.initDragAndDrop()})},250)})}}const dt=Object.freeze(Object.defineProperty({__proto__:null,initGrid:Ce,render:se},Symbol.toStringTag,{value:"Module"}));let _=null,M=null,j=null;function ge(t){const a=t.target.closest(".rezept-card");if(!a)return;const r=a.closest(".grid-cell");if(!r)return;const n=a.dataset.rezeptId,e=a.querySelector(".rezept-name").textContent;t.dataTransfer.setData("text/plain",n),t.dataTransfer.setData("rezept-name",e),t.dataTransfer.setData("source-tag",r.dataset.tag),t.dataTransfer.setData("source-kategorie",r.dataset.kategorie),t.dataTransfer.effectAllowed="move",R({type:"rezept",id:n})}function ut(t,a){t.dataTransfer.setData("text/plain",a.id),t.dataTransfer.setData("rezept-name",a.name),t.dataTransfer.effectAllowed="move",R({type:"rezept",id:a.id})}function ht(t){var d,c,h;const a=t.target.closest(".cell-drag-handle");if(!a)return;const r=a.closest(".grid-cell");if(!r)return;const{tag:n,kategorie:e}=r.dataset,{currentPlan:s}=T(),o=((h=(c=(d=s.days)==null?void 0:d[n])==null?void 0:c.Mahlzeiten)==null?void 0:h[e])||[];if(o.length===0){t.preventDefault();return}const i={recipes:o,sourceTag:n,sourceKategorie:e};t.dataTransfer.setData("application/json/cell-drop",JSON.stringify(i)),t.dataTransfer.effectAllowed="move",R({type:"cell",sourceKategorie:e,sourceTag:n})}function ye(t){var c,h,l;t.preventDefault(),t.stopPropagation();const a=t.currentTarget.closest(".grid-cell"),r=t.currentTarget.closest(".mobile-drop-zone"),n=a||r;if(!n)return;n.classList.remove("drag-over-active","drag-over-invalid");const{currentDragData:e,currentPlan:s}=T();if(!e)return;const{tag:o,kategorie:i}=n.dataset,d=t.dataTransfer.getData("application/json/cell-drop");if(d){const{sourceTag:u,sourceKategorie:m}=JSON.parse(d);if(o===u&&i===m)return;we(o,i,u,m),R(null);return}if(e.type==="rezept"){const u=t.dataTransfer.getData("text/plain");if(!u)return;const m=t.dataTransfer.getData("rezept-name"),p=t.dataTransfer.getData("source-tag"),f=t.dataTransfer.getData("source-kategorie");if((((l=(h=(c=s.days)==null?void 0:c[o])==null?void 0:h.Mahlzeiten)==null?void 0:l[i])||[]).some(S=>S.id===u)){n.classList.add("drag-over-invalid"),setTimeout(()=>n.classList.remove("drag-over-invalid"),500);return}De(o,i,u,m,p,f)}R(null)}function ve(t){var d,c,h;t.preventDefault();const a=t.currentTarget.closest(".grid-cell"),r=t.currentTarget.closest(".mobile-drop-zone"),n=a||r;if(!n)return;const{currentDragData:e,currentPlan:s}=T();if(!e)return;const{tag:o,kategorie:i}=n.dataset;if(e.type==="cell"&&a&&o===e.sourceTag&&i===e.sourceKategorie){n.classList.add("drag-over-invalid");return}if(e.type==="rezept"){const l=e.id;if((((h=(c=(d=s.days)==null?void 0:d[o])==null?void 0:c.Mahlzeiten)==null?void 0:h[i])||[]).some(m=>m.id===l)){n.classList.add("drag-over-invalid");return}}n.classList.remove("drag-over-invalid"),n.classList.add("drag-over-active")}function Ee(t){t.preventDefault();const a=t.currentTarget.closest(".grid-cell"),r=t.currentTarget.closest(".mobile-drop-zone"),n=a||r;n&&n.classList.remove("drag-over-active","drag-over-invalid")}function ne(t){var e,s,o;const a=t.target.closest(".mobile-zone-drag-handle");if(a){const{tag:i,kategorie:d}=a.dataset,{currentPlan:c}=T(),h=((o=(s=(e=c.days)==null?void 0:e[i])==null?void 0:s.Mahlzeiten)==null?void 0:o[d])||[];if(h.length===0)return;M=a,_={type:"zone",recipes:h,sourceTag:i,sourceKategorie:d},a.classList.add("zone-dragging");const l=a.closest(".mobile-category-row");l&&(l.style.opacity="0.7",l.style.transform="scale(0.98)");return}const r=t.target.closest(".rezept-card"),n=t.target.closest(".rezept-pill");if(r){const i=r.closest(".grid-cell, .mobile-drop-zone");if(!i)return;M=r,_={type:"rezept",id:r.dataset.rezeptId,name:r.querySelector(".rezept-name").textContent,sourceTag:i.dataset.tag,sourceKategorie:i.dataset.kategorie},r.style.opacity="0.7",r.style.transform="scale(0.95)"}else n&&(M=n,_={type:"rezept",id:n.dataset.rezeptId,name:n.dataset.rezeptName,sourceTag:null,sourceKategorie:null},n.style.opacity="0.7",n.style.transform="scale(0.95)");_&&(R(_),document.querySelectorAll(".grid-cell, .mobile-drop-zone").forEach(i=>{i.classList.add("touch-drop-zone-highlight")}))}function ae(t){var e,s,o;if(!_)return;t.preventDefault();const a=t.touches[0],r=document.elementFromPoint(a.clientX,a.clientY),n=r==null?void 0:r.closest(".grid-cell, .mobile-drop-zone");if(document.querySelectorAll(".touch-drop-zone-active, .touch-drop-zone-invalid").forEach(i=>{i.classList.remove("touch-drop-zone-active","touch-drop-zone-invalid")}),n&&n.dataset.tag&&n.dataset.kategorie){const{currentPlan:i}=T(),{tag:d,kategorie:c}=n.dataset;_.type==="zone"?d===_.sourceTag&&c===_.sourceKategorie?n.classList.add("touch-drop-zone-invalid"):(n.classList.add("touch-drop-zone-active"),j=n):_.type==="rezept"&&((((o=(s=(e=i.days)==null?void 0:e[d])==null?void 0:s.Mahlzeiten)==null?void 0:o[c])||[]).some(u=>u.id===_.id)?n.classList.add("touch-drop-zone-invalid"):(n.classList.add("touch-drop-zone-active"),j=n))}else j=null}function re(t){if(_){if(M)if(_.type==="zone"){M.classList.remove("zone-dragging");const a=M.closest(".mobile-category-row");a&&(a.style.opacity="",a.style.transform="")}else M.style.opacity="",M.style.transform="";if(document.querySelectorAll(".touch-drop-zone-highlight, .touch-drop-zone-active, .touch-drop-zone-invalid").forEach(a=>{a.classList.remove("touch-drop-zone-highlight","touch-drop-zone-active","touch-drop-zone-invalid")}),j){const{tag:a,kategorie:r}=j.dataset;if(_.type==="zone"){const{sourceTag:n,sourceKategorie:e,recipes:s}=_;we(a,r,n,e),H(async()=>{const{showToast:o}=await import("./toast-notification-BBb3bACE.js");return{showToast:o}},__vite__mapDeps([3,1,2,4])).then(({showToast:o})=>{const i=s.length;o(`${i} Rezept${i>1?"e":""} verschoben`,"success")})}else if(_.type==="rezept"){const{id:n,name:e,sourceTag:s,sourceKategorie:o}=_;De(a,r,n,e,s,o),H(async()=>{const{showToast:i}=await import("./toast-notification-BBb3bACE.js");return{showToast:i}},__vite__mapDeps([3,1,2,4])).then(({showToast:i})=>{i(`Rezept "${e}" hinzugef√ºgt`,"success")})}}_=null,M=null,j=null,R(null)}}function Me(){const t=document.querySelector(".menueplan-grid");t&&(t.addEventListener("dragstart",e=>{e.target.closest(".rezept-drag-handle")?ge(e):e.target.closest(".cell-drag-handle")&&ht(e)}),t.querySelectorAll(".grid-cell").forEach(e=>{e.addEventListener("dragover",ve),e.addEventListener("dragleave",Ee),e.addEventListener("drop",ye)}));const a=document.querySelector(".mobile-accordion");a&&(a.addEventListener("dragstart",e=>{e.target.closest(".rezept-drag-handle")&&ge(e)}),a.querySelectorAll(".mobile-drop-zone").forEach(e=>{e.addEventListener("dragover",ve),e.addEventListener("dragleave",Ee),e.addEventListener("drop",ye)}),a.addEventListener("touchstart",ne,{passive:!1}),a.addEventListener("touchmove",ae,{passive:!1}),a.addEventListener("touchend",re,{passive:!1})),t&&(t.addEventListener("touchstart",ne,{passive:!1}),t.addEventListener("touchmove",ae,{passive:!1}),t.addEventListener("touchend",re,{passive:!1}));const r=document.getElementById("menueplan-suche-ergebnisse");r&&(r.addEventListener("dragstart",n=>{const e=n.target.closest(".rezept-pill");if(e){const s={id:e.dataset.rezeptId,name:e.dataset.rezeptName};ut(n,s)}}),r.addEventListener("touchstart",ne,{passive:!1}),r.addEventListener("touchmove",ae,{passive:!1}),r.addEventListener("touchend",re,{passive:!1}))}const pt=Object.freeze(Object.defineProperty({__proto__:null,initDragAndDrop:Me},Symbol.toStringTag,{value:"Module"})),_e=document.getElementById("app");function ft(){const t=document.getElementById("autosave-indicator"),a=t.querySelector(".indicator-icon"),r=t.querySelector(".indicator-text");let n;const e=(s,o)=>{if(clearTimeout(n),t.className=`text-muted visible ${s}`,a.className="indicator-icon bi bi-arrow-repeat",r.textContent=o,s==="success"||s==="error"){const i=s==="success"?"bi-check-circle-fill":"bi-x-circle-fill";a.className=`indicator-icon bi ${i}`,n=setTimeout(()=>{t.classList.remove("visible")},2e3)}};je({onSaving:()=>e("saving","Speichert..."),onSuccess:()=>e("success","Gespeichert"),onError:()=>e("error","Speicherfehler")})}async function be(t,a){try{const r=await I.getMenueplan(t,a);Y(r)}catch(r){console.error(`Fehler beim Laden des Plans f√ºr KW ${a}/${t}:`,r),Y(null)}}async function mt(t){if(_e)try{const[a,r,n]=await Promise.all([I.getStammdaten(),I.getEinrichtungen(),I.getRezepte()]);Se({stammdaten:{stammdaten:a,einrichtungen:r,rezepte:n}}),Be(()=>{se(),X(),ft()}),at(be),Ce();const[s,o]=k(B());await be(s,o),Me()}catch(a){console.error("Schwerwiegender Fehler bei der Initialisierung des Men√ºplans:",a),_e.innerHTML='<div class="alert alert-danger">Das Men√ºplan-Modul konnte nicht geladen werden.</div>'}}document.addEventListener("DOMContentLoaded",async()=>{try{const t=await Ae();console.log("Header geladen, Men√ºplan-UI wird initialisiert..."),await mt(t),L("Men√ºplan erfolgreich geladen!","success")}catch(t){console.error("Fehler bei der Initialisierung des Men√ºplan-Moduls:",t),L("Fehler beim Laden des Men√ºplan-Moduls.","error");const a=document.getElementById("app");a&&(a.innerHTML=`
                <div class="alert alert-danger mt-4" role="alert">
                    <h4 class="alert-heading">Fehler beim Laden</h4>
                    <p>Das Men√ºplan-Modul konnte nicht geladen werden.</p>
                    <hr>
                    <p class="mb-0">Bitte laden Sie die Seite neu oder kontaktieren Sie den Administrator.</p>
                </div>
            `)}});
